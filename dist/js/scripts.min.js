!function(e){function t(a){if(s[a])return s[a].exports;var r=s[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var s={};t.m=e,t.c=s,t.d=function(e,s,a){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=d3},function(e,t,s){"use strict";t.a=function(e){return e.toLowerCase()!=e.toUpperCase()},t.b=function(e){return new Promise(function(t,s){a.json(e,function(e,a){e&&s(e),t(a)})})};var a=s(0);s.n(a)},function(e,t){e.exports=Cookies},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(0),r=(s.n(a),s(2)),l=(s.n(r),s(4)),o=s(5),i=s(1),c=s(7);/*!
 * =============================
 * =	Mike Pinto             =
 * =	mspkvp@github.com      =
 * =	Â©2017 tk7movespretty   =
 * ============================= */
!function(e){function t(e){a.select(".move-table").remove(),a.select(".char-movelist .inner-table").html('<table class="move-table"></table>');let t=n.get("characterData"),r=e,l=t[r].c.split(" ");a.select("#"+l[0]).classed("selected",!1),a.select("#"+l[0]).classed("selected",!0),a.select("#selected-title").text(t[r].n),n.set("selectedCharacter",r),n.save(),n.get("showCharMenuDialog")&&s()}function s(){let e=n.get("showCharMenuDialog");e?a.select("#charmenu").style("display","none"):a.select("#charmenu").style("display","initial"),n.set("showCharMenuDialog",!e)}function r(e){Object(i.b)("./assets/data/movelists/MOVELIST_"+e+".json").then(function(s){t(e);let a=s.moves,r=n.get("hitsMap"),o=n.get("jap"),i=n.get("lang"),c=n.get("ctrlsMap"),u=n.get("buttonLayouts"),d=n.get("buttonLayoutChoice");l.a(e,a,r,o,i,c,u[d])}).catch(function(e){console.log("Failed to find movelist",e)})}let n=new c.a;e.importData=function(){n.load(),Object(i.b)("./assets/data/map_hits.json").then(function(e){let t=n.get("hitsMap");for(var s in e)t[e[s].i]=e[s].h;return n.set("hitsMap",t),Object(i.b)("./assets/data/map_ctrls.json")}).then(function(e){return n.set("ctrlsMap",e),Object(i.b)("./assets/data/map_chars.json")}).then(function(e){let t=n.get("selectedCharacter"),s=n.get("characterData");for(let t in e)s[e[t].i]={c:e[t].c,n:e[t].n};n.set("characterData",s);for(let t=0;t<e.length;t++){let s=e[t].c_index.split(" ");"11"==e[t].i&&(s=e[t].c.split("-")),a.select(".char-menu > .inner-table > table").append("tr").html('<td class="char-card" id="'+e[t].c.split(" ")[0]+'"><img src="./assets/chars/'+s.join("").toLowerCase()+'_thumbnail.png"><p>'+e[t].c+"</p></td>"),a.select("#"+e[t].c.split(" ")[0]).on("click",function(){r(e[t].i)})}let l=s[t].c.split(" ");a.select("#"+l[0]).classed("selected",!0),a.select("#selected-title").text(s[t].n),r(t)})},e.toggleCharMenu=s,e.togglePreferences=function(){let e=n.get("showPrefDialog");e?a.select("#preferences").style("visibility","hidden"):a.select("#preferences").style("visibility","visible"),n.set("showPrefDialog",!e)},e.toggleFilter=function(){let e=n.get("showFilterDialog");e?a.select("#filter").style("visibility","hidden"):a.select("#filter").style("visibility","visible"),n.set("showFilterDialog",!e)},e.filterMoveList=function(){let e=n.get("currentMoveList"),s=n.get("jap"),a=n.get("lang"),r=n.get("hitsMap"),i=n.get("ctrlsMap"),c=n.get("buttonLayouts"),u=n.get("buttonLayoutChoice"),d=n.get("selectedCharacter"),h=o.a(e,s,a,i);t(d),l.a(d,h,r,s,a,i,c[u])},e.setLang=function(e){let t,s,l=parseInt(e);t=0===l,a.select("#lang-select").selectAll("option").each(function(){parseInt(this.value)===l&&(s=this.index)}),n.set("lang",l),n.set("jap",t),n.set("langIndex",s),n.save(),r(n.get("selectedCharacter"))},e.changePlatform=function(e){n.set("buttonLayoutChoice",e),n.save(),r(n.get("selectedCharacter"))}}(window)},function(e,t,s){"use strict";function a(e,t){return'<td class="move-card"><div class="move-info"><div class="move-number">&#9733;</div><div class="move-title"><div class="move-name" style="margin-bottom:5px;">'+e.name[t?0:1]+"</div></div></div></td>"}function r(e,t,s,a,r,o,i){let c='<td class="move-card">';return c+=l(e,t,s,a,r,o,i),c+=d(t),c+="</td>"}function l(e,t,s,a,r,l,c){let n='<div class="move-info">';return n+='<div class="move-number">'+t.number+'</div><div class="move-title"><div class="move-name">'+t.name[a?0:1]+'</div><div class="move-hitamount">'+t.ds.length+(t.ds.length>1?" Hits":" Hit")+"</div></div>",n+=o(t,r,l,c),n+=i(e,t,s),n+="</div>"}function o(e,t,s,a){let r='<div class="move-string">',l=e.command[t].split(" ");for(let e=0;e<l.length;e++){let t=l[e];if(/[a-z]/.test(t.toLowerCase()))r+='<p class="move-hint">'+t+"</p>";else for(let e=0;e<t.length;e++)try{v.a(s[t.charAt(e)])?s[t.charAt(e)]===s[t.charAt(e)].toLowerCase()||"N"===s[t.charAt(e)]?r+='<img class="move-arrow" src="./assets/arrow/'+s[t.charAt(e)].toLowerCase()+'.svg">':r+='<img class="move-arrow" src="./assets/arrow/'+s[t.charAt(e)].toLowerCase()+'p.svg">':isNaN(s[t.charAt(e)].charAt(0))?">"===s[t.charAt(e)]?r+='<p class="move-hint" style="color:#37ff05;font-size:20px;"><i class="fa fa-chevron-right" aria-hidden="true"></i></p>':(console.log("1. Not added: "+t.charAt(e)),console.log("2. Not added map: "+s[t.charAt(e)])):r+='<img class="move-button" src="./assets/button/'+a+"/"+s[t.charAt(e)]+'.svg">'}catch(s){"("===t.charAt(e)||t.charAt(e),r+='<p class="move-hint">'+t.charAt(e)+"</p>"}}return r+="</div>"}function i(e,t,s){let a='<div class="move-hit-dmg"><div class="move-hitlvlstring">';for(let r=0;r<t.at.length;r++){try{a+='<p class="mv-hitlvl hit'+s[t.at[r].l].toLowerCase()+'">'+s[t.at[r].l]+(t.at[r].t>0?" Throw":"")+"</p>"}catch(a){throw console.log(t.at[r].l),console.log(s[t.at[r].l]),console.log("Fighter: "+e),console.log(t.number),a}r+1<t.at.length&&(a+='<i class="fa fa-chevron-right" aria-hidden="true"></i>')}return a+=n(t),a+="</div>",a+=c(t),a+="</div>"}function c(e){let t='<div class="move-dmg"><p class="mv-frames">'+e.d+'</p><p class="mv-id">Damage</p><div class="move-hitdmg-section"><i id="dmgmove'+e.number+'" class="fa fa-plus-square" aria-hidden="true"></i><div class="move-hitdmg">';for(let s=0;s<e.ds.length;s++)t+=e.ds[s].d,s+1<e.ds.length&&(t+="+");return t+="</div></div></div>"}function n(e){let t="";if(e.br.length>0){let s="";switch(e.br[0].b){case 1:s="1";break;case 2:s="2";break;case 3:s="1/2";break;case 4:s="1+2";break;default:s=""}t+='<i class="fa fa-caret-right" aria-hidden="true"></i>',t+='<p class="mv-hitlvl">'+e.br[0].f+"F BREAK "+s+"</p>"}return t}function u(e){let t='<table class="move-frames"><tr class="move-startf"><td class="mv-id">Start</td><td class="mv-frames">'+e.s+"F</td></tr>";if(e.s>0){t+='<tr class="move-startf-seg"><td>'+e.s+"F = ";for(var s=1;s<e.ss.length;s++)t+=e.ss[s].s,s+1<e.ss.length&&(t+="+");t+="</td></tr>"}return t+='<tr class="move-blockf"><td class="mv-id">Block</td><td class="mv-frames '+(e.blk>-1?'blkpositive">+':e.blk<-10?'blknegative">':'blkmild">')+e.blk+"</td></tr>",t+='<tr class="move-hitf"><td class="mv-id">Hit</td><td class="mv-frames">'+(e.adv>0?"+"+e.adv:e.adv)+"</td></tr></table>"}function d(e){let t='<div class="move-extra"><div class="mv-section"><div class="move-special">';return e.b9&&(t+='<p class="spin">SPIN</p>'),e.b8&&(t+='<p class="armor">ARMOR</p>'),e.bB&&(t+='<p class="track">TRACK</p>'),t+="</div>",t+=u(e),t+="</div>",t+="</div>"}function h(e){for(let t=1;t<=e;t++)m.select("#dmgmove"+t).on("mouseenter",function(){m.select("i#"+this.id+" + div.move-hitdmg").style("display","initial")}),m.select("#dmgmove"+t).on("mouseleave",function(){setTimeout(()=>{m.select("i#"+this.id+" + div.move-hitdmg").style("display","none")},3e3)})}t.a=function(e,t,s,l,o,i,c){let n=0;for(let u=0;u<t.length;u++){let d=t[u],h=!d.number>0,v=m.select(".move-table").append("tr");h?v.html(a(d,l)):(n++,v.html(r(e,d,s,l,o,i,c)))}h(n);let u=document.querySelector("#movelist_tab > table").firstElementChild;u&&u.scrollIntoView(!0)};var m=s(0),v=(s.n(m),s(1))},function(e,t,s){"use strict";function a(){let e=document.querySelector("#move-name-filter").value,t=document.querySelector("#move-string-filter").value,s={spin:document.querySelector("#move-property-spin-filter").checked,track:document.querySelector("#move-property-track-filter").checked,armor:document.querySelector("#move-property-armor-filter").checked},a={start:{value:document.querySelector("#frame-property-start-filter").value,comparison:document.querySelector("#frame-property-start-comparison-filter").value},block:{value:document.querySelector("#frame-property-block-filter").value,comparison:document.querySelector("#frame-property-block-comparison-filter").value},hit:{value:document.querySelector("#frame-property-hit-filter").value,comparison:document.querySelector("#frame-property-hit-comparison-filter").value}};return a.start.value=parseInt(a.start.value),a.block.value=parseInt(a.block.value),a.hit.value=parseInt(a.hit.value),{moveName:e,moveString:t,specialProperties:s,frameProperties:a}}function r(e,t,s){switch(s){case"<=":return e<=t;case"<":return e<t;case">=":return e>=t;case">":return e>t;default:return e==t}}t.a=function(e,t,s,o){let i=a();return e.filter(function(e){let a=Object(l.a)(e,s,o),c=!0;return i.moveName&&(c=c&&e.name[t?0:1].toLowerCase().match(i.moveName.toLowerCase())),i.moveString&&(c=c&&a.match(i.moveString)),i.specialProperties.spin&&(c=c&&e.b9),i.specialProperties.armor&&(c=c&&e.b8),i.specialProperties.track&&(c=c&&e.bB),isNaN(i.frameProperties.start.value)||(c=c&&r(e.s,i.frameProperties.start.value,i.frameProperties.start.comparison)),isNaN(i.frameProperties.block.value)||(c=c&&r(e.blk,i.frameProperties.block.value,i.frameProperties.block.comparison)),isNaN(i.frameProperties.hit.value)||(c=c&&r(e.adv,i.frameProperties.hit.value,i.frameProperties.hit.comparison)),c})};var l=s(6)},function(e,t,s){"use strict";t.a=function(e,t,s){let r="",l=e.command[t].split(" ");for(let e=0;e<l.length;e++){let t=l[e];if(/[a-z]/.test(t.toLowerCase()));else for(let e=0;e<t.length;e++){let l="";try{Object(a.a)(s[t.charAt(e)])?(s[t.charAt(e)]===s[t.charAt(e)].toLowerCase()||s[t.charAt(e)],l=s[t.charAt(e)].toLowerCase()):isNaN(s[t.charAt(e)].charAt(0))||(l=s[t.charAt(e)])}catch(e){}r+=l}}return r};var a=s(1)},function(e,t,s){"use strict";var a=s(0),r=(s.n(a),s(2)),l=s.n(r);class o{constructor(){this._properties={characterData:[],ctrlsMap:null,hitsMap:[],selectedCharacter:"32",currentMoveList:null,lang:1,langIndex:0,jap:!1,showPrefDialog:!1,showFilterDialog:!1,showCharMenuDialog:!1,buttonLayouts:["STEAM","PS4","XBOX"],buttonLayoutChoice:2}}get(e){return this._properties[e]}set(e,t){this._properties[e]=t}save(){l.a.set("tk7moves",JSON.stringify({selected_char:this.get("selectedCharacter"),lang:this.get("lang"),lang_index:this.get("langIndex"),jap:this.get("jap"),bl_choice:this.get("buttonLayoutChoice")}),{expires:30,path:""})}load(){if(void 0!==l.a.get("tk7moves")){let t=this.get("buttonLayoutChoice"),s=this.get("langIndex");a.select("#platf-select > option:nth-child("+(t+1)+")").attr("selected",!1),a.select("#lang-select > option:nth-child("+(s+1)+")").attr("selected",!1);var e=JSON.parse(l.a.get("tk7moves"));this.set("selectedCharacter",e.selected_char),this.set("lang",e.lang),this.set("langIndex",e.lang_index),this.set("jap",e.jap),this.set("buttonLayoutChoice",e.bl_choice),a.select("#platf-select > option:nth-child("+(t+1)+")").attr("selected",!0),a.select("#lang-select > option:nth-child("+(s+1)+")").attr("selected",!0)}else this.save()}}t.a=o}]);